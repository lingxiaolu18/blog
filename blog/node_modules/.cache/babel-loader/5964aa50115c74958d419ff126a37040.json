{"ast":null,"code":"import { response } from \"express\";\nexport const fetchLoginStatus = () => {\n  return fetch('/session', {\n    method: 'GET'\n  }).catch(() => {\n    return Promise.reject({\n      code: 'network-error'\n    });\n  }).then(response => {\n    if (!response.ok) {\n      console.log(response);\n      return response.json().then(result => Promise.reject(result));\n    }\n\n    return response.json();\n  });\n};\nexport const fetchLogIn = (username, password) => {\n  return fetch('/session', {\n    method: 'POST',\n    headers: new Headers({\n      'content-type': 'application/json'\n    }),\n    body: JSON.stringify({\n      username,\n      password\n    })\n  }).catch(() => {\n    return Promise.reject({\n      code: 'network-error'\n    });\n  }).then(response => {\n    if (!response.ok) {\n      return response.json().then(result => Promise.reject(result));\n    }\n\n    return response.json();\n  });\n};\nexport const fetchAllUserPosts = () => {\n  return fetch('/posts', {\n    method: 'GET'\n  }).catch(() => {\n    return Promise.reject({\n      code: 'network-error'\n    });\n  }).then(response => {\n    if (!response.ok) {\n      return response.json().then(result => Promise.reject(result));\n    }\n\n    return response.json();\n  });\n};\nexport const fetchUserPosts = username => {\n  return fetch('/posts/' + username, {\n    method: 'GET'\n  }).catch(() => {\n    return Promise.reject({\n      code: 'network-error'\n    });\n  }).then(response => {\n    if (!response.ok) {\n      return response.json().then(result => Promise.reject(result));\n    }\n\n    return response.json();\n  });\n};\nexport const fetchAddPost = (username, post) => {\n  return fetch('/posts/' + username, {\n    method: 'POST',\n    headers: new Headers({\n      'content-type': 'application/json'\n    }),\n    body: JSON.stringify({\n      post\n    })\n  }).catch(() => {\n    return Promise.reject({\n      code: 'network-error'\n    });\n  }).then(response => {\n    if (!response.ok) {\n      return response.json().then(result => Promise.reject(result));\n    }\n\n    return response.json();\n  });\n};\nexport const fetchOnePost = (username, postId) => {\n  return fetch('/posts/' + username + '/' + postId, {\n    method: 'GET'\n  }).catch(() => {\n    return Promise.reject({\n      code: 'network-error'\n    });\n  }).then(response => {\n    if (!response.ok) {\n      return response.json().then(result => Promise.reject(result));\n    }\n\n    return response.json();\n  });\n};\nexport const fetchUpdatePost = (username, postId, post) => {\n  return fetch('/posts/' + username + '/' + postId, {\n    method: 'PUT',\n    headers: new Headers({\n      'content-type': 'application/json'\n    }),\n    body: JSON.stringify({\n      post\n    })\n  }).catch(() => {\n    return Promise.reject({\n      code: 'network-error'\n    });\n  }).then(response => {\n    if (!response.ok) {\n      return response.json().then(result => Promise.reject(result));\n    }\n\n    return response.json();\n  });\n};\nexport const fetchDeleteOnePost = (username, postId) => {\n  return fetch('/posts/' + username + '/' + postId, {\n    method: 'DELETE'\n  }).catch(() => {\n    return Promise.reject({\n      code: 'network-error'\n    });\n  }).then(response => {\n    if (!response.ok) {\n      return response.json().then(result => Promise.reject(result));\n    }\n\n    return response.json();\n  });\n};","map":{"version":3,"sources":["/Users/sf/code_base/React-blog/blog/src/services.js"],"names":["response","fetchLoginStatus","fetch","method","catch","Promise","reject","code","then","ok","console","log","json","result","fetchLogIn","username","password","headers","Headers","body","JSON","stringify","fetchAllUserPosts","fetchUserPosts","fetchAddPost","post","fetchOnePost","postId","fetchUpdatePost","fetchDeleteOnePost"],"mappings":"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","sourcesContent":["import { response } from \"express\";\n\nexport const fetchLoginStatus = ()=>{\n    return fetch('/session', {\n      method:'GET'\n    })\n    .catch(()=>{\n      return Promise.reject({code:'network-error'});\n    })\n    .then((response)=>{\n      if(!response.ok){\n        console.log(response);\n        return response.json().then(result=>Promise.reject(result));\n      }\n      return response.json();\n    });\n  };\n\nexport const fetchLogIn = (username, password)=>{\n    return fetch('/session', {\n      method:'POST',\n      headers:new Headers({\n        'content-type':'application/json',\n      }),\n      body:JSON.stringify({username, password})\n    })\n    .catch(()=>{\n      return Promise.reject({code:'network-error'});\n    })\n    .then((response)=>{\n      if(!response.ok){\n        return response.json().then(result => Promise.reject(result));\n      }\n      return response.json();\n    });\n};\n\nexport const fetchAllUserPosts = () => {\n    return fetch('/posts', {\n        method:'GET'\n    })\n    .catch(() => {\n        return Promise.reject({code:'network-error'});\n    })\n    .then((response) => {\n        if(!response.ok){\n            return response.json().then(result => Promise.reject(result));\n        }\n        return response.json();\n    });\n};\n\nexport const fetchUserPosts = (username)=>{\n    return fetch('/posts/' + username, {\n        method:'GET'\n    })\n    .catch(()=>{\n        return Promise.reject({code:'network-error'});\n    })\n    .then((response)=>{\n        if(!response.ok){\n            return response.json().then(result=>Promise.reject(result)); \n        }\n        return response.json();\n    });\n};\n\nexport const fetchAddPost = (username, post)=>{\n    return fetch('/posts/' + username, {\n        method:'POST',\n        headers:new Headers({\n            'content-type':'application/json',\n        }),\n        body:JSON.stringify({post})\n    })\n    .catch(()=>{\n        return Promise.reject({code:'network-error'});\n    })\n    .then((response)=>{\n        if(!response.ok){\n            return response.json().then(result=>Promise.reject(result));\n        }\n        return response.json();\n    });\n};\n\nexport const fetchOnePost = (username, postId)=>{\n    return fetch('/posts/' + username + '/' + postId, {\n        method:'GET'\n    })\n    .catch(()=>{\n        return Promise.reject({code:'network-error'});\n    })\n    .then((response)=>{\n        if(!response.ok){\n            return response.json().then(result=>Promise.reject(result));\n        }\n        return response.json();\n    });\n};\n\nexport const fetchUpdatePost = (username, postId, post)=>{\n    return fetch('/posts/' + username + '/' + postId, {\n        method:'PUT',\n        headers:new Headers({\n            'content-type':'application/json',\n        }),\n        body:JSON.stringify({post})\n    })\n    .catch(()=>{\n        return Promise.reject({code:'network-error'});\n    })\n    .then((response)=>{\n        if(!response.ok){\n            return response.json().then(result=>Promise.reject(result));\n        }\n        return response.json();\n    });\n};\n\nexport const fetchDeleteOnePost = (username, postId)=>{\n    return fetch('/posts/' + username + '/' + postId, {\n        method:'DELETE'\n    })\n    .catch(()=>{\n        return Promise.reject({code:'network-error'});\n    })\n    .then((response)=>{\n        if(!response.ok){\n            return response.json().then(result=>Promise.reject(result));\n        }\n        return response.json();\n    });\n};\n\n"]},"metadata":{},"sourceType":"module"}